# HTTP
## Client<----->Server
### Client在浏览器中输入 http://www.stanford.edu
1.打开与www.stanford.edu的链接,并且发送一个获取网页根页面的GET请求  
2.服务器检查其是否有效，用户可以访问该页面
3.服务器发送响应，响应包括数字代码（用于表示请求被接受）其余部分包含文档数据（比如主页的超文本）以及其他类型的请求，PUT，DELETE，INFO,404
# BitTorrent（集群中客户端之间的密集链接）
## Server<-->Clientlist
![image](https://github.com/user-attachments/assets/933cc66f-d601-4be5-8387-fe8e8c1fecdd)
1.客户端在下载文件时首先找到一个种子文件（一般使用万维网），种子文件描述了你想要下载的数据文件的一些信息，同时告诉比特流的追踪器是什么
2.追踪器是一个节点负责寻找哪些客户端是集群的成员
3.请求的客户端通过追踪器获取其他客户端的列表
4.与这些客户端建立链接获取文件片段
5.新客户端加入集群时追踪器会告知新客户端和你发起链接
# Skype
## Client|NAT|<--Internet-->|NAT|Client
NAT中最为常见的就是一个路由器，其特点是处于NAT后的客户端可以向外界打开链接，但是其他节点很难向客户端B打开链接
所以假设A想连接B则必须通过会和服务器（Rendezvous)绕过NAT
1.A先向会和服务器发送call B的请求
2.Rendezous告知B有一个来自A的呼叫请求。
3.B客户端弹出对话框如果B接受请求则向客户端A回开
4.如果A，B都在NAT后面这时候使用中继器。A,B都向中继器打开连接，二者之间的信息传输通过中继器越过NAT
# 网络的四层结构
![image](https://github.com/user-attachments/assets/00f0ffb4-effe-4507-b2de-e4b08f793cab)
## 从底层向上依次为 
数据链路层->网络层->传输层->应用层
### 数据链路层
数据经过逐跳的方式依次经过每条链路进行传输，以包的形式传输，数据包是一个自包含单元，包含要传输的数据以及数据头部（数据包的目的地以及来源）
### 网络层
网络层指示数据链路层将数据包通过链路传输下一目的地，下一目的地的路由器通过检查数据报的目的地址负责将数据包发送到链路层以便通过下一条链路传输
### 传输层
### TCP-IP协议
IPV4:
![image](https://github.com/user-attachments/assets/7a4ceb53-855d-4af7-a574-abc08490e157)
IP地址：网络层用来将数据包传输到计算机的地址
TCPport:告诉计算机将数据传输到哪个应用程序的端口
### 打开一个网页发生的事件
1客户端会和网页服务端产生三次握手第一次客户端向服务端传输SYN连接请求，第二次服务端向客户端传输SYNACK请求，第三次客户端向服务端传输ACK确认响应
2客户端会向服务端发送GET请求
3服务端会向客户端传输数据包，如果数据包过大则会被分段。这里要注意发送的响应中200OK等反映请求结果的数字代码并不一定会优先发送，而是在客户端将分段响应重组后处于响应开头
## LPM（最长前缀和匹配算法）
假设目标ip是171.15.15.0
路由各链路对应ip为![image](https://github.com/user-attachments/assets/2f159c2f-a3cc-4455-9e61-3cd283dc2e9e)
那么通过匹配发现链路4对应的IP和目标ip前缀长度最长
这是链路中存在和目标ip在同一个子网下的ip
当目标ip和所有链路ip都不在一个子网下则使用默认路由传输。
## ARP地址解析协议
